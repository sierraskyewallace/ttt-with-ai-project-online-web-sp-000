#!/usr/bin/env ruby

require_relative '../config/environment'

def start
    puts "Welcome to Tic Tac Toe"
    puts "Please select player mode: 0, 1, 2"
     input = gets.strip
     if input.to_i == 0
      Game.new(player_1 = Players::Computer.new("X"), player_2 = Players::Computer.new("O")).play
      puts "Would you like to play again? [Y/N]"
      play_again
    elsif input.to_i == 2
    Game.new.play
    puts "Would you like to play again? [Y/N]"
    play_again
    else
      puts "Would you like to go first? [Y/N]"
      first_player = gets.strip.downcase
      if first_player == 'Y'
        Game.new(player_1 = Players::Human.new("X"), player_2 = Players::Computer.new("O")).play
    else
        Game.new(player_1 = Players::Computer.new("X"), player_2 = Players::Human.new("O")).play
      end
      puts "Would you like to play again? [Y/N]"
      play_again
    end
  end
  
 def play_again
    input = gets.strip.downcase
    while input != 'Y' || input != 'N'
      puts "Please enter 'Y' or 'N'."
    case input
    when 'Y'
      start
    when 'N'
      puts "Goodbye!"
      end
    end
  end
    Game.start